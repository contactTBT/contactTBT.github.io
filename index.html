<!DOCTYPE html>
<html>
	<head>
		<title>I-Blast Help Redirect...</title>
	</head>
	<body>
		<script type="text/javascript">
			// Récupération des paramètres de l'URL
			// Pour le test : 
			//const urlParams = new URL("https://www.wiki.i-blast.tbtech.fr/?language=fr&window=FEN_AnalyseSismique").searchParams;
			const urlParams = new URL(window.location.toLocaleString()).searchParams;
			let pLanguage = urlParams.get('language');
			const pWindow = urlParams.get('window');
			const beta 	  = urlParams.get('beta');
			
			// Définition de l'URL d'accès
			let redirectURL = "https://www.wiki.i-blast.tbtech.fr/";
			if (beta == 1) {
				redirectURL = "https://develop.wiki.i-blast.tbtech.fr/";
			}
			
				
			let page = "";
			let availableLanguages = ["fr"];
			// Gestion de la page d'aide
			switch(pWindow) {
				case "FEN_ADMIN":
					availableLanguages = ["fr"];
					page = "Misc/usermanagement";
					break;
					
				case "FEN_LOGIN":
				case "FEN_CONNEXION_BASE_CS":
				case "FEN_ACTIVATION_USB":
				case "FEN_CONNECTION_SERVEUR":
					availableLanguages = ["en","fr"];
					page = "login";
					break;	
									
				case "FEN_ANALYSESISMIQUE":
					availableLanguages = ["en","fr"];
					page = "BlastManagement/Analysis/Seismic";
					break;
					
				case "FEN_ANALYSETROUSIGNATURE_FREQ":
					availableLanguages = ["en","fr"];
					page = "BlastManagement/Analysis/SignatureHole";
					break;
					
				case "FEN_ATTENUATIONLAW":
					availableLanguages = ["fr"];
					page = "BlastManagement/Analysis/AttenuationLaw";
					break;
					
				case "FEN_BILAN_CARBONE":
					availableLanguages = ["fr"];
					page = "BlastManagement/Analysis/GHG";
					break;
					
				case "FEN_MODELES_CHARGEMENT":
					availableLanguages = ["fr"];
					page = "BlastManagement/Databases/Loading";
					break;

				case "FEN_MODELES_EXPLOSIFS":
					availableLanguages = ["fr"];
					page = "BlastManagement/Databases/Explosives";
					break;
					
				case "FEN_ENREGISTREMENTSSIMIQUES":
					availableLanguages = ["fr"];
					page = "BlastManagement/Measures/seismicRecords";
					break;
					
				case "FEN_FORATION":
					availableLanguages = ["en","fr"];
					page = "Design/analysis/drillingAnalysis";
					break;
					
				case "FEN_FRAGCAST":
					availableLanguages = ["fr"];
					page = "BlastManagement/Simulations/FragmentationCastSimulation";
					break;
					
				case "FEN_MODELE_GEOLOGIE":
					availableLanguages = ["fr"];
					page = "BlastManagement/Databases/Geology";
					break;
					
				case "FEN_GESTION_NUAGE_V2":
					availableLanguages = ["en","fr"];
					page = "BlastManagement/Measures/pointclouds";
					break;
					
				case "FEN_GESTION_TIRS":
					availableLanguages = ["en","fr"];
					page = "BlastManagement";
					break;
					
				case "FEN_OPTIONS":
					availableLanguages = ["fr"];
					page = "BlastManagement/Global/options";
					break;
					
				case "FEN_VUE3D":
					availableLanguages = ["en","fr"];
					page = "3DView";
					break;
					
				case "FEN_ZONES_RESULTATS":
					availableLanguages = ["fr"];
					page = "BlastManagement/Simulations/SeismicZones";
					break;
				
				case "FEN_DESIGN":
					availableLanguages = ["en","fr"];
					page = "Design";
					break;
					
				case "FEN_PARAM_SIM_PROJ3D":
					availableLanguages = ["en","fr"];
					page = "3DView/DigitalTwin";
					break;
					
				case "FEN_FONDDEPLAN":
					availableLanguages = ["fr"];
					page = "Design/design/background";
					break;
					
				case "FEN_GENERATION_POINTCLOUD_2":
					availableLanguages = ["en","fr"];
					page = "Design/measures/genPointCloud";
					break;
					
				case "FEN_DNAFRAG":
					availableLanguages = ["fr"];
					page = "BlastManagement/Measures/DNAFrag";
					break;
					
				case "FEN_ANALYSEOVERLAP":
					availableLanguages = ["en","fr"];
					page = "BlastManagement/Analysis/Overlap";
					break;
					
				case "FEN_AUDIT_FORATION":
					availableLanguages = ["en","fr"];
					page = "Design/analysis/drillingAnalysis";
					break;

				case "FEN_AUTODRONE":
					availableLanguages = ["fr"];
					page = "Design/base/autodrone";
					break;

				case "FEN_SIMVIBRATIONVEHICULE":
					availableLanguages = ["fr"];
					page = "Design/simulation/mecaEquipment";
					break;
					
				case "FEN_POST_TRAITEMENT_ODM":
					availableLanguages = ["fr"];
					page = "Design/measures/genPointCloud/postprocessing";
					break;
				case "FEN_AUTOGCP":
					availableLanguages = ["fr"];
					page = "Design/measures/genPointCloud/autogcp";
					break;
				case "FEN_FRAG_3D_RES":
					availableLanguages = ["en","fr"];
					page = "3DView/DigitalTwin/FragmentationResults";
					break;
					
				case "FEN_IMPORTHOLESCHARGESEXCEL":
					availableLanguages = ["fr"];
					page = "Design/design/ImportHolesXLS";
					break;
					
				case "FEN_IMPORTER_ZONES_EXCEL":
					availableLanguages = ["fr"];
					page = "Design/design/ImportZonesXLS";
					break;
					
				case "FEN_PALLETTE_NP":
					availableLanguages = ["en","fr"];
					page = "Design/display/pointcloud_tools";
					break;
					
				case "FEN_SEL_EXPLO":
					availableLanguages = ["fr"];
					page = "Misc/popupExplosive";
					break;
					
				case "FEN_CHARGEMENT_PLUS":
					availableLanguages = ["fr"];
					page = "Design/design/SmartLoading";
					break;
					
				case "FEN_3DSIM_ANA_PARAM":
					availableLanguages = ["fr"];
					page = "BlastManagement/Simulations/VoxelParameters";
					break;
					
				case "FEN_COULEUR_TROUS":
					availableLanguages = ["fr"];
					page = "Design/display/HoleColor";
					break;	
				case "FEN_MOD3D":
					availableLanguages = ["fr"];
					page = "BlastManagement/Databases/3DModels";
					break;	
				case "FEN_GEOLOGIE":
					availableLanguages = ["en","fr"];
					page = "Design/design/Geology";
					break;	
				case "FEN_DESIGN_VIEWINFO":
					availableLanguages = ["en","fr"];
					page = "Design/global/viewinfo";
					break;		
				case "FEN_OPT_DISTANCE":
					availableLanguages = ["en","fr"];
					page = "Design/global";
					break;
				case "FEN_COM_DETO_DAVEY":
					availableLanguages = ["en","fr"];
					page = "BlastManagement/Blasts/ElectronicDeto";
				case "FEN_COM_DETO_FAMESA":
					availableLanguages = ["en","fr"];
					page = "BlastManagement/Blasts/ElectronicDeto";
				case "FEN_COM_DETO_HANWHA":
					availableLanguages = ["en","fr"];
					page = "BlastManagement/Blasts/ElectronicDeto/Hanwha";
					break;
				case "FEN_DEMANDE_CLIENT":
					availableLanguages = ["en","fr"];
					page = "BlastManagement/Global/userRequest";
					break;
				case "FEN_PATHS":
					availableLanguages = ["en","fr"];
					page = "Design/design/paths";
					break;
				case "FEN_MAJDATAEXPLO":
					availableLanguages = ["en","fr"];
					page = "Design/base";
					break;
				default:
					availableLanguages = ["en","fr"];
					page = "BlastManagement";
			}
			
			//select language
			let pLanguagePage = availableLanguages[0];
			if (availableLanguages.indexOf(pLanguage)>=0) {pLanguagePage=pLanguage;}
						
			// Redirection
			window.location.href = redirectURL + pLanguagePage + "/IBlast/" + page;
		</script>
	</body>
</html>